$(document).ready(function(){getLocation().then(t=>getAirplanesList(t)).then(t=>setInterval(function(){getAirplanesList(t)},6e4)).catch(function(t){$(".airplanes-list tbody").html('<tr>\n          <td colspan="3" class="alert alert-danger">\n            In order to see list of airplanes nearby, you need to allow the browser to get your location\n          </td>\n        </tr>')})});const API_URL="https://public-api.adsbexchange.com/VirtualRadar/AircraftList.json";function getLocation(){return new Promise(function(t,n){navigator.geolocation.getCurrentPosition(t,n)})}function getAirplanesList(t){const n=t.coords.latitude,a=t.coords.longitude,e=0,i=100;return $.ajax({url:`${API_URL}?lat=${n}&lng=${a}&fDstL=${e}&fDstU=${i}`,dataType:"jsonp",beforeSend:function(){$(".airplanes-list tbody .airplane-data").hide(),$(".airplanes-list tbody .airplane-data").html(""),$(".loadingCircle").show()},success:function(t){let n=t.acList.slice();n.sort((t,n)=>n.Alt-t.Alt),n.forEach(t=>{let n=t.long<0?"west":"east";$(".airplanes-list tbody").append(`<tr class="airplane-data">\n            <td><img src="img/airplane_${n}.png" class="img-responsive" title="Going to ${n} side"/></td>\n            <td>${t.Alt} ft</td>\n            <td>${t.CNum}</td>\n          </tr>`)}),$(".airplanes-list tbody .airplane-data").show(),$(".loadingCircle").hide()}}),t}